<!DOCTYPE html>
<html>
    <link rel="shortcut icon" type="image/jpg" href="https://raw.githubusercontent.com/ajskateboarder/stuff/main/more/logo.png">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

    <meta name="description" content="Scratchhh gists!">
    <meta property="og:image" content="https://raw.githubusercontent.com/ajskateboarder/stuff/main/more/logo.png">
    <meta property="og:image:type" content="image/jpeg">
    <meta property="og:image:width" content="200">
    <meta property="og:image:height" content="200">
    
    <title>Scratchhh Gists</title>
    <body style="background-color: #282828; overflow: hidden;">
        <img src="https://raw.githubusercontent.com/ajskateboarder/stuff/main/more/collision.gif" id="Video" >
        <div class="content" style="height: 100%; overflow-y: auto;">
            <div class="topnav">
                &nbsp;&nbsp;&nbsp;<a class="active" href="/"><img src="https://raw.githubusercontent.com/ajskateboarder/stuff/main/more/logo.png" width="25">&nbsp;&nbsp;&nbsp;Home</a>
                <div style="text-align:right; float:right; right:0">
                  <a href="/gists" id="gists" hidden style="color: white">Gists</a>
                  <a href="/backpack" id="backpack" hidden>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Backpack</a>
                <a href="/login" id="text">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Login&nbsp;&nbsp;&nbsp;</a>
            </div>
            </div>
            <div id='ie'><br><alert style="font-size: medium;"><a href="https://browsehappy.com/">Hmmm... this site doesn't support your browser very well!</a></alert></div>
            <br>
            <br>

            <h1 class="center">Scratchhh Gists</h1>
            <h3  class="center" style="font-size: small;">Basically GitHub gists but blocks. (work in progress!)</p>
    
            <br>
    
            <h3 class="center" style="font-size: medium;">Enter some gist id... (like 6687296!)</h3>
            <div style="text-align: center;"> <input type="search" id="query" class="round1 dark" autocomplete="off"> <button type="submit" onclick="getreturn()" class="round2 dark" id="abutton">&nbsp;Search&nbsp;</button> </div>
    
            <hr class="header">
            <div style="text-align: center;"><button class="round1 round2 dark" onclick="gotothis()">&nbsp;Create a gist now!&nbsp;</button></div>
</html>

<script type="text/javascript"> 
function getreturn() { var inputVal = document.getElementById("query").value; window.location.href = `/gists/${inputVal}` } 
var input = document.getElementById("query");
input.addEventListener("keyup", function(event) { if (event.keyCode === 13) { event.preventDefault(); document.getElementById("abutton").click(); } });
if (!/*@cc_on!@*/false || !!document.documentMode === true) { document.getElementById('ie').remove() }
function gotothis() { window.location.href = '/gists/create' }
</script>

<script type="text/javascript"> 
function getCookie(cname) {
  let name = cname + "=";
  let decodedCookie = decodeURIComponent(document.cookie);
  let ca = decodedCookie.split(';');
  for(let i = 0; i <ca.length; i++) {
    let c = ca[i];
    while (c.charAt(0) == ' ') {
      c = c.substring(1);
    }
    if (c.indexOf(name) == 0) {
      return c.substring(name.length, c.length);
    }
  }
  return "";
}
decodeBase64 = function(s) {
    var e={},i,b=0,c,x,l=0,a,r='',w=String.fromCharCode,L=s.length;
    var A="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";
    for(i=0;i<64;i++){e[A.charAt(i)]=i;}
    for(x=0;x<L;x++){
        c=e[s.charAt(x)];b=(b<<6)+c;l+=6;
        while(l>=8){((a=(b>>>(l-=8))&0xff)||(x<(L-2)))&&(r+=w(a));}
    }
    return r;
};

window.onload = function() {

setTimeout((function() { fetch('https://scratchapinc.herokuapp.com/featured/').then(res => res.json()).then(res => {
    let projects = res['community_featured_projects']
    var i = 1
    projects.forEach(project => { document.getElementById(`l${i}`).innerText = project['title'];document.getElementById(`l${i}`).href = 'https://scratchhh.xyz/projects/'+project['id'] ;i ++ })
})}), 500)
if (getCookie('username') != '') {
document.getElementById('text').innerHTML = `&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Hey ${decodeBase64(getCookie('username'))}!&nbsp;&nbsp;&nbsp;`
document.getElementById('text').removeAttribute('href')
document.getElementById('backpack').hidden = false
document.getElementById('gists').hidden = false
}
}
</script>

<style type="text/css"> 
    .round1 { border-top-left-radius: 15px; border-bottom-left-radius: 15px; border: 1px #404040 solid; }
    .bottomtext { background: rgba(0, 0, 0, 0.06); color: white; left: 0; width: 100%; padding: 15px; text-decoration: none; position: absolute; height:5% }
    .round2 { border-top-right-radius: 15px; border-bottom-right-radius: 15px; }
    .center { color: white; text-align: center; }
    .header { height:2px; border-width:0; color: #808080; background-color: #808080; width: 95%;}
    .image { display: block; margin-left: auto; margin-right: auto; }
    .dark { color: white; background-color: #404040; border:none; }
    .dark:hover { color: white; background-color: #606060; }
    #Video { position: absolute; opacity: 0.06; min-width: 100%; min-height: 100%; left: 0; right: 0;}
    .content { position: fixed; background: rgba(0, 0, 0, 0.06); color: #f1f1f1; width: 100%; padding: 20px; }
    .topnav { background-color: rgba(0, 0, 0); top: 0; opacity: 0.5; position: fixed; text-align: left;overflow: hidden; left: 0; width: 100%; display: inline-block; }
    .topnav a { display: inline-block; color: #f2f2f2; opacity: 0.5; text-align:left; text-decoration: none; font-size: 17px; height: 30px;}
    .topnav a:hover { background: #000; color: #FFF; opacity: 2; }
    alert { background-color: rgb(253, 218, 13); color: black; display: inline-block; width: 100%; text-align: center; position: fixed; right: 0; text-decoration: none; }
    alert:hover { background-color: rgb(293, 258, 53);  }
    a { color: white }
    a:hover { color: grey }
    #scroll-container{overflow:hidden}
    #scroll-text{-moz-transform:translateX(100%);-webkit-transform:translateX(100%);transform:translateX(100%);-moz-animation:my-animation 25s linear infinite;-webkit-animation:my-animation 42s linear infinite;animation:my-animation 25s linear infinite}
    #scroll-text0{-moz-transform:translateX(100%);-webkit-transform:translateX(100%);transform:translateX(100%);-moz-animation:my-animation 39s linear infinite;-webkit-animation:my-animation 43s linear infinite;animation:my-animation 39s linear infinite}
    #scroll-text1{-moz-transform:translateX(100%);-webkit-transform:translateX(100%);transform:translateX(100%);-moz-animation:my-animation 44s linear infinite;-webkit-animation:my-animation 44s linear infinite;animation:my-animation 44s linear infinite}
    @-moz-keyframes my-animation{from{-moz-transform:translateX(100%)}to{-moz-transform:translateX(-100%)}}@-webkit-keyframes my-animation{0%{-webkit-transform:translateX(100%)}100%{-webkit-transform:translateX(-100%)}}
    @keyframes my-animation{from{-moz-transform:translateX(100%);-webkit-transform:translateX(100%);transform:translateX(100%)}to{-moz-transform:translateX(-100%);-webkit-transform:translateX(-100%);transform:translateX(-100%)}}
    .spinnything { transform: rotate(360deg); transition: transform 0.5s; }
    .spinnything:active { transform: rotate(0deg); transition:  0s; }
</style>